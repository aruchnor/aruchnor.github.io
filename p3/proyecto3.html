<html><head>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
		<title>Mapa Web</title>
		<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.5/leaflet.css">
		<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/3.0.2/css/font-awesome.css">
		<!--[if lte IE 8]>
		<link rel="stylesheet" 
		href="http://cdn.leafletjs.com/leaflet-0.5/leaflet.ie.css" />
		<![endif]-->
		<script src="http://cdn.leafletjs.com/leaflet-0.5/leaflet.js">
		</script>
		<script src="https://raw.github.com/lvoogdt/Leaflet.awesome-markers/master/dist/leaflet.awesome-markers.js">
		</script>
		<style type="text/css">
			#map { 	
				width: 1000px; 
				height: 618px 
			}
			.awesome-marker {
				background: url("https://raw.github.com/lvoogdt/Leaflet.awesome-markers/master/dist/images/markers-soft.png") 
				no-repeat 0 0;
				width: 35px;
				height: 46px;
				position:absolute;
				left:0;
				top:0;
				display: block;
				text-align: center;
			}
			.awesome-marker-shadow {
				background: url("https://raw.github.com/lvoogdt/Leaflet.awesome-markers/master/dist/images/markers-shadow.png") 
				no-repeat 0 0;
				width: 36px;
				height: 16px;
			}
			.awesome-marker i {
				color: #333;
				margin-top: 10px;
				display: inline-block;
				font-size: 14px;
			}
			.awesome-marker .icon-white { 
				color: #fff; 
			}
			.awesome-marker-icon-red { 
				background-position: 0 0; 
			}
			.awesome-marker-icon-darkred { 
				background-position: -180px 0; 
			}
			.awesome-marker-icon-orange { 
					background-position: -36px 0; 
			}
			.awesome-marker-icon-green { 
					background-position: -72px 0;
			 }
			.awesome-marker-icon-darkgreen { 
					background-position: -252px 0; 
			}
			.awesome-marker-icon-blue { 
					background-position: -108px 0; 
			}
			.awesome-marker-icon-darkblue {
					background-position: -216px 0; 
			}
			.awesome-marker-icon-purple { 
					background-position: -144px 0; 
			}
			.awesome-marker-icon-darkpurple { 
					background-position: -288px 0; 
			}
			.awesome-marker-icon-cadetblue { 
					background-position: -324px 0; 
			}
.info {
    padding: 6px 8px;
    font: 14px/16px Arial, Helvetica, sans-serif;
    background: white;
    background: rgba(255,255,255,0.8);
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
    border-radius: 5px;
}
.info h4 {
    margin: 0 0 5px;
    color: #777;
}
</style>
</head>
<body>
<div id="map"></div>
<script type="text/javascript">

var ServiciosTuristicosMarker = L.AwesomeMarkers.icon({
icon: "globe",
color: "green",
iconColor: "blue"
});
function ServiciosTuristicosToLayer(feature, latlng) {
return L.marker(latlng, {icon: ServiciosTuristicosMarker});
};
var ServiciosTransporteMarker = L.AwesomeMarkers.icon({
icon: "plane",
color: "red",
iconColor: "black"
});
function ServiciosTransporteToLayer(feature, latlng) {
return L.marker(latlng, {icon: ServiciosTransporteMarker});
};
var ServiciosSaludMarker = L.AwesomeMarkers.icon({
icon: "plus",
color: "blue",
iconColor: "black"
});
function ServiciosSaludToLayer(feature, latlng) {
return L.marker(latlng, {icon: ServiciosSaludMarker});
};
var ServiciosPublicosMarker = L.AwesomeMarkers.icon({
icon: "umbrella",
color: "yellow",
iconColor: "black"
});
function ServiciosPublicosToLayer(feature, latlng) {
return L.marker(latlng, {icon: ServiciosPublicosMarker});
};
var ServiciosFinancierosMarker = L.AwesomeMarkers.icon({
icon: "lock",
color: "grey",
iconColor: "black"
});
function ServiciosFinancierosToLayer(feature, latlng) {
return L.marker(latlng, {icon: ServiciosFinancierosMarker});
};
var ServiciosComercioMarker = L.AwesomeMarkers.icon({
icon: "briefcase",
color: "white",
iconColor: "black"
});
function ServiciosComercioToLayer(feature, latlng) {
return L.marker(latlng, {icon: ServiciosComercioMarker});
};
var RestauranteBancoMarker = L.AwesomeMarkers.icon({
icon: "food",
color: "black",
iconColor: "white"
});
function RestauranteBancoToLayer(feature, latlng) {
return L.marker(latlng, {icon: RestauranteBancoMarker});
};
var PuentesTibasMarker = L.AwesomeMarkers.icon({
icon: "road",
color: "purple",
iconColor: "black"
});
function PuentesTibasToLayer(feature, latlng) {
return L.marker(latlng, {icon: PuentesTibasMarker});
};
var ParadaTelefonoMarker = L.AwesomeMarkers.icon({
icon: "truck",
color: "oranje",
iconColor: "black"
});
function ParadaTelefonoToLayer(feature, latlng) {
return L.marker(latlng, {icon: ParadaTelefonoMarker});
};
var TelefonoMarker = L.AwesomeMarkers.icon({
icon: "phone",
color: "green",
iconColor: "red"
});
var BancoMarker = L.AwesomeMarkers.icon({
icon: "bank",
color: "green",
iconColor: "black"
});
var ParquesMarker = L.AwesomeMarkers.icon({
icon: "leaf",
color: "green",
iconColor: "black"
});
var EscuelasDistritosMarker = L.AwesomeMarkers.icon({
icon: "book",
color: "red",
iconColor: "green"
});
function EscuelasDistritosToLayer(feature, latlng) {
return L.marker(latlng, {icon: EscuelasDistritosMarker});
};
var ComerciosLocalidadesMarker = L.AwesomeMarkers.icon({
icon: "glass",
color: "purple",
iconColor: "yellow"
});
function ComerciosLocalidadesToLayer(feature, latlng) {
return L.marker(latlng, {icon: ComerciosLocalidadesMarker});
};
var IglesiaDistritoMarker = L.AwesomeMarkers.icon({
icon: "bell",
color: "yellow",
iconColor: "purple"
});
function IglesiaDistritoToLayer(feature, latlng) {
return L.marker(latlng, {icon: IglesiaDistritoMarker});
};
var EscuelasPlazasMarker = L.AwesomeMarkers.icon({
icon: "picture",
color: "oranje",
iconColor: "blue"
});
function EscuelasPlazasToLayer(feature, latlng) {
return L.marker(latlng, {icon: EscuelasPlazasMarker});
};
var BarriosTibasMarker = L.AwesomeMarkers.icon({
icon: "home",
color: "blue",
iconColor: "oranje"
});
function BarriosTibasToLayer(feature, latlng) {
return L.marker(latlng, {icon: BarriosTibasMarker});
};

function onEachFeature(feature, layer) {
layer.bindPopup('Nombre: '+ feature.properties.nombre + '<br/>' + 'Tipo: ' + feature.properties.tipo);
};

function highlightFeature(e) {
    var layer = e.target;
   
    layer.setStyle({
        weight: 5,
        color: '#079',
        dashArray: '',
        fillOpacity: 0.7
    });

    if (!L.Browser.ie && !L.Browser.opera) {
        layer.bringToFront();
    }
	info.update(layer.feature.properties);
}

function resetHighlight(e) {
	InstalacionesPublicasLayer.resetStyle(e.target);
	EdificiosPublicosLayer.resetStyle(e.target);
	ServiciosDeportivosLayer.resetStyle(e.target);
	CantonTibasLayer.resetStyle(e.target);
	info.update();
}
function zoomToFeature(e) {
    map.fitBounds(e.target.getBounds());
}

function onEachFeature2(feature, layer) {
 layer.on({
        mouseover: highlightFeature,
        mouseout: resetHighlight,
        click: zoomToFeature
    });

}

function highlightFeature2(e) {
    var layer = e.target;
    var i;
	for (i = 0; i < EscuelasDistritos.features.length; i++) {
		if (layer.feature.properties.nombre==EscuelasDistritos.features[i].properties.NDISTRITO){
			marker[i] = new L.marker([EscuelasDistritos.features[i].geometry.coordinates[1], EscuelasDistritos.features[i].geometry.coordinates[0]], {
			idEscuela: i,
			icon: EscuelasDistritosMarker
			}).addTo(EscuelasDistritosLayer);
		}
		
	};
	var j;
	for (j = 0; j < IglesiaDistrito.features.length; j++){
		if (layer.feature.properties.nombre==IglesiaDistrito.features[j].properties.NDISTRITO){
			marker2[j] = new L.marker([IglesiaDistrito.features[j].geometry.coordinates[1], IglesiaDistrito.features[j].geometry.coordinates[0]], {
			idIglesia: j,
			icon: IglesiaDistritoMarker
			}).addTo(IglesiaDistritoLayer);
		}
	};
	var k;
	for (k = 0; k < PuentesTibas.features.length; k++){
		if (layer.feature.properties.nombre==PuentesTibas.features[k].properties.NDISTRITO){
			marker5[k] = new L.marker([PuentesTibas.features[k].geometry.coordinates[1], PuentesTibas.features[k].geometry.coordinates[0]], {
			idPuente: k,
			icon: PuentesTibasMarker
			}).addTo(PuentesLayer);
		}
	};
	layer.setStyle({
        weight: 5,
        color: '#079',
        dashArray: '',
        fillOpacity: 0.7
    });
	
    if (!L.Browser.ie && !L.Browser.opera) {
        layer.bringToFront();
    }
	info.update(layer.feature.properties);
}

function resetHighlight2(e) {
    DistritosTibasLayer.resetStyle(e.target);
	EscuelasDistritosLayer.clearLayers();
	IglesiaDistritoLayer.clearLayers();
	PuentesLayer.clearLayers();
	info.update();
	
}
function onEachFeature3(feature, layer) {
 layer.on({
        mouseover: highlightFeature2,
        mouseout: resetHighlight2,
        click: zoomToFeature
    });

}

function highlightFeature3(e) {
    var layer = e.target;
    var i;
	for (i = 0; i < ComerciosLocalidades.features.length; i++) {
		if (layer.feature.properties.nombre==ComerciosLocalidades.features[i].properties.nombre_2){
			marker3[i] = new L.marker([ComerciosLocalidades.features[i].geometry.coordinates[1], ComerciosLocalidades.features[i].geometry.coordinates[0]], {
			idComercio: i,
			icon: ComerciosLocalidadesMarker
			}).addTo(ComerciosLocalidadesLayer);
		}
		
	};
	layer.setStyle({
        weight: 5,
        color: '#079',
        dashArray: '',
        fillOpacity: 0.7
    });
	
    if (!L.Browser.ie && !L.Browser.opera) {
        layer.bringToFront();
    }
	info.update(layer.feature.properties);
}

function resetHighlight3(e) {
	BarriosVoroniLayer.resetStyle(e.target);
	ComerciosLocalidadesLayer.clearLayers();
	info.update();
	
}
function onEachFeature4(feature, layer) {
 layer.on({
        mouseover: highlightFeature3,
        mouseout: resetHighlight3,
        click: zoomToFeature
    });

}

function verTelefonos(e) {
    TelefonoLayer.clearLayers();
    var layer = e.target;
    var i;
	for (i = 0; i < Telefonos.features.length; i++) {
		if (layer.feature.properties.telefono==Telefonos.features[i].properties.id){
			marker4[i] = new L.marker([Telefonos.features[i].geometry.coordinates[1], Telefonos.features[i].geometry.coordinates[0]], {
			idTelefono: i,
			icon: TelefonoMarker
			}).addTo(TelefonoLayer);
		}
	};
	TelefonoLayer.addTo(map);
}

function onEachFeature5(feature, layer) {
layer.bindPopup('Nombre: '+ feature.properties.nombre + '<br/>' + 'Tipo: ' + feature.properties.tipo);
 layer.on({
        click: verTelefonos
    });
}

function verBancos(e) {
    BancosLayer.clearLayers();
    var layer = e.target;
    var i;
	for (i = 0; i < Bancos.features.length; i++) {
		if (layer.feature.properties.banco==Bancos.features[i].properties.id){
			marker7[i] = new L.marker([Bancos.features[i].geometry.coordinates[1], Bancos.features[i].geometry.coordinates[0]], {
			idBanco: i,
			icon: BancoMarker
			}).addTo(BancosLayer);
		}
	};
	BancosLayer.addTo(map);
}

function onEachFeature6(feature, layer) {
layer.bindPopup('Nombre: '+ feature.properties.nombre + '<br/>' + 'Tipo: ' + feature.properties.tipo);
 layer.on({
        click: verBancos
    });
}

function verParques(e) {
    ParquesLayer.clearLayers();
    var layer = e.target;
    var i;
	for (i = 0; i < Parques.features.length; i++) {
		if (layer.feature.properties.plaza==Parques.features[i].properties.id){
			marker6[i] = new L.marker([Parques.features[i].geometry.coordinates[1], Parques.features[i].geometry.coordinates[0]], {
			idBanco: i,
			icon: ParquesMarker
			}).addTo(ParquesLayer);
		}
	};
	ParquesLayer.addTo(map);
}

function onEachFeature7(feature, layer) {
layer.bindPopup('Nombre: '+ feature.properties.nombre + '<br/>' + 'Tipo: ' + feature.properties.tipo);
 layer.on({
        click: verParques
    });
}

var xhr = new XMLHttpRequest() || new ActiveXObject("Msxml2.XMLHTTP")
|| new ActiveXObject("Microsoft.XMLHTTP");
xhr.open("GET","BarriosTibas.geojson",false); xhr.send(null);
var BarriosTibas = JSON.parse(xhr.responseText);
xhr.open("GET","BarriosVoroni.geojson",false); xhr.send(null);
var BarriosVoroni = JSON.parse(xhr.responseText);
xhr.open("GET","CallesTibas.geojson",false); xhr.send(null);
var CallesTibas = JSON.parse(xhr.responseText);
xhr.open("GET","CantonTibas.geojson",false); xhr.send(null);
var CantonTibas = JSON.parse(xhr.responseText);
xhr.open("GET","ComerciosLocalidades.geojson",false); xhr.send(null);
var ComerciosLocalidades = JSON.parse(xhr.responseText);
xhr.open("GET","DistritosTibas.geojson",false); xhr.send(null);
var DistritosTibas = JSON.parse(xhr.responseText);
xhr.open("GET","EdificiosPublicos.geojson",false); xhr.send(null);
var EdificiosPublicos = JSON.parse(xhr.responseText);
xhr.open("GET","EscuelasPlazas.geojson",false); xhr.send(null);
var EscuelasPlazas = JSON.parse(xhr.responseText);
xhr.open("GET","IglesiaDistrito.geojson",false); xhr.send(null);
var IglesiaDistrito = JSON.parse(xhr.responseText);
xhr.open("GET","EscuelasDistritos.geojson",false); xhr.send(null);
var EscuelasDistritos = JSON.parse(xhr.responseText);
xhr.open("GET","InstalacionesPublicas.geojson",false); xhr.send(null);
var InstalacionesPublicas = JSON.parse(xhr.responseText);
xhr.open("GET","LineaTren.geojson",false); xhr.send(null);
var LineaTren = JSON.parse(xhr.responseText);
xhr.open("GET","ParadaTelefono.geojson",false); xhr.send(null);
var ParadaTelefono = JSON.parse(xhr.responseText);
xhr.open("GET","PuentesTibas.geojson",false); xhr.send(null);
var PuentesTibas = JSON.parse(xhr.responseText);
xhr.open("GET","RestauranteBanco.geojson",false); xhr.send(null);
var RestauranteBanco = JSON.parse(xhr.responseText);
xhr.open("GET","RiosTibas.geojson",false); xhr.send(null);
var RiosTibas = JSON.parse(xhr.responseText);
xhr.open("GET","ServiciosComercio.geojson",false); xhr.send(null);
var ServiciosComercio = JSON.parse(xhr.responseText);
xhr.open("GET","ServiciosDeportivos.geojson",false); xhr.send(null);
var ServiciosDeportivos = JSON.parse(xhr.responseText);
xhr.open("GET","ServiciosFinancieros.geojson",false); xhr.send(null);
var ServiciosFinancieros = JSON.parse(xhr.responseText);
xhr.open("GET","ServiciosPublicos.geojson",false); xhr.send(null);
var ServiciosPublicos = JSON.parse(xhr.responseText);
xhr.open("GET","ServiciosSalud.geojson",false); xhr.send(null);
var ServiciosSalud = JSON.parse(xhr.responseText);
xhr.open("GET","ServiciosTransporte.geojson",false); xhr.send(null);
var ServiciosTransporte = JSON.parse(xhr.responseText);
xhr.open("GET","ServiciosTuristicos.geojson",false); xhr.send(null);
var ServiciosTuristicos = JSON.parse(xhr.responseText);
xhr.open("GET","Telefonos.geojson",false); xhr.send(null);
var Telefonos = JSON.parse(xhr.responseText);
xhr.open("GET","BancosTibas.geojson",false); xhr.send(null);
var Bancos = JSON.parse(xhr.responseText);
xhr.open("GET","ParqueTibas.geojson",false); xhr.send(null);
var Parques = JSON.parse(xhr.responseText);

var EscuelasDistritosLayer = new L.LayerGroup();
var marker = [];
var IglesiaDistritoLayer = new L.LayerGroup();
var marker2 = [];
var ComerciosLocalidadesLayer = new L.LayerGroup();
var marker3 = [];
var TelefonoLayer = new L.LayerGroup();
var marker4 = [];
var PuentesLayer = new L.LayerGroup();
var marker5 = [];
var ParquesLayer = new L.LayerGroup();
var marker6 = [];
var BancosLayer = new L.LayerGroup();
var marker7 = [];

var styleLineas = {
"color": "#000000",
"weight": 2,
"opacity": 1.00
};
var stylePoligonos = {
"color": "#ff7800",
"weight": 1,
"opacity": 0.65
};
var styleRios = {
"color": "#2B36AE",
"weight": 1,
"opacity": 1.00
};
var styleCalles = {
"color": "#999999",
"weight": 1,
"opacity": 0.65
};
var styleVoroni = {
"color": "#2B96AE",
"weight": 1,
"opacity": 1.00
};
var styleCanton = {
"color": "#7EEF67",
"weight": 1,
"opacity": 1.00
};
var styleDistritos = {
"color": "#01DF01",
"weight": 1,
"opacity": 1.00
};
var styleEdificios = {
"color": "#230229",
"weight": 1,
"opacity": 1.00
};
var ServiciosTuristicosLayer = L.geoJson(ServiciosTuristicos, {
pointToLayer: ServiciosTuristicosToLayer, onEachFeature: onEachFeature
});
var ServiciosTransporteLayer = L.geoJson(ServiciosTransporte, {
pointToLayer: ServiciosTransporteToLayer, onEachFeature: onEachFeature
});
var ServiciosSaludLayer = L.geoJson(ServiciosSalud, {
pointToLayer: ServiciosSaludToLayer, onEachFeature: onEachFeature
});
var ServiciosPublicosLayer = L.geoJson(ServiciosPublicos, {
pointToLayer: ServiciosPublicosToLayer, onEachFeature: onEachFeature
});
var ServiciosFinancierosLayer = L.geoJson(ServiciosFinancieros, {
pointToLayer: ServiciosFinancierosToLayer, onEachFeature: onEachFeature
});
var ServiciosComercioLayer = L.geoJson(ServiciosComercio, {
pointToLayer: ServiciosComercioToLayer, onEachFeature: onEachFeature
});
var RestauranteBancoLayer = L.geoJson(RestauranteBanco, {
pointToLayer: RestauranteBancoToLayer, onEachFeature: onEachFeature6
});
var PuentesTibasLayer = L.geoJson(PuentesTibas, {
pointToLayer: PuentesTibasToLayer, onEachFeature: onEachFeature
});
var ParadaTelefonoLayer = L.geoJson(ParadaTelefono, {
pointToLayer: ParadaTelefonoToLayer, onEachFeature: onEachFeature5
});
var EscuelasPlazasLayer = L.geoJson(EscuelasPlazas, {
pointToLayer: EscuelasPlazasToLayer, onEachFeature: onEachFeature7
});
var BarriosTibasLayer = L.geoJson(BarriosTibas, {
pointToLayer: BarriosTibasToLayer, onEachFeature: onEachFeature
});
var LineaTrenLayer = L.geoJson(LineaTren, {
style: styleLineas, onEachFeature: onEachFeature
});
var RiosTibasLayer = L.geoJson(RiosTibas, {
style: styleRios, onEachFeature: onEachFeature
});
var InstalacionesPublicasLayer = L.geoJson(InstalacionesPublicas, {
style: styleEdificios, onEachFeature: onEachFeature2
});
var EdificiosPublicosLayer = L.geoJson(EdificiosPublicos, {
style: styleEdificios, onEachFeature: onEachFeature2
});
var DistritosTibasLayer = L.geoJson(DistritosTibas, {
style: styleDistritos, onEachFeature: onEachFeature3
});
var CantonTibasLayer = L.geoJson(CantonTibas, {
style: styleCanton, onEachFeature: onEachFeature2
});
var CallesTibasLayer = L.geoJson(CallesTibas, {
style: styleCalles, onEachFeature: onEachFeature
});
var BarriosVoroniLayer = L.geoJson(BarriosVoroni, {
style: styleVoroni, onEachFeature: onEachFeature4
});
var ServiciosDeportivosLayer = L.geoJson(ServiciosDeportivos, {
style: styleEdificios, onEachFeature: onEachFeature2
});

var map = L.map("map", {
center: new L.LatLng(9.957849309,-84.081819659),
zoom: 14,
layers: [EscuelasDistritosLayer, DistritosTibasLayer]
});
var overlayMaps = {
"Linea del Tren": LineaTrenLayer,
"Rios": RiosTibasLayer,
"Calles": CallesTibasLayer,
"Instalaciones Publicas": InstalacionesPublicasLayer,
"Edificios Publicos": EdificiosPublicosLayer,
"Servicios Deportivos": ServiciosDeportivosLayer,
"Distritos": DistritosTibasLayer,
"Canton de Tibas": CantonTibasLayer,
"Barrios de Voroni": BarriosVoroniLayer,
"Servicios Turisticos": ServiciosTuristicosLayer,
"Servicios Transporte": ServiciosTransporteLayer,
"Servicios Salud": ServiciosSaludLayer,
"Servicios Publicos": ServiciosPublicosLayer,
"Servicios Financieros": ServiciosFinancierosLayer,
"Servicios Comercio": ServiciosComercioLayer,
"Puentes": PuentesTibasLayer,
"Barrios": BarriosTibasLayer

};

var baseMaps = {
"Iglesias en Distritos": IglesiaDistritoLayer,
"Puentes en Distritos": PuentesLayer,
"Comercios en Localidades": ComerciosLocalidadesLayer,
"Escuelas en Distritos": EscuelasDistritosLayer,
"Escuelas cerca de Plazas": EscuelasPlazasLayer,
"Paradas cerca de Telefonos": ParadaTelefonoLayer,
"Restaurantes cerca de Bancos": RestauranteBancoLayer
};

var info = L.control();

info.onAdd = function (map) {
    this._div = L.DomUtil.create('div', 'info'); // create a div with a class "info"
    this.update();
    return this._div;
};

// method that we will use to update the control based on feature properties passed
info.update = function (props) {
    this._div.innerHTML = '<h4>Nombre:</h4>' +  (props ?
        props.nombre : 'Pasa sobre un lugar') + 
		'<h4>Tipo:</h4>' + (props ?  props.tipo : '');
};
info.addTo(map);
L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(map);
L.control.scale().addTo(map);
L.control.layers(baseMaps, overlayMaps).addTo(map);
</script>
</body>
</html>